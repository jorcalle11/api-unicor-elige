!function(){"use strict";angular.module("unicorEligeApp",["ngAnimate","ngAria","ngMessages","ui.router","ngSanitize","ngTouch","satellizer","toastr","ui.bootstrap","ui.calendar"]).config(["$stateProvider","$urlRouterProvider","$authProvider","Api","Rol",function(a,b,c,d,e){function f(a,b){var c=a.defer();return b.isAuthenticated()?c.reject():c.resolve(),c.promise}function g(a,b,c,d){var e=a.defer();return c.isAuthenticated()?e.resolve():(d.error("No estas logueado!"),b.path("/login")),e.promise}b.otherwise("/"),f.$inject=["$q","$auth"],g.$inject=["$q","$location","$auth","toastr"],a.state("home",{url:"/",templateUrl:"views/main.html",controller:null,resolve:{skipIfLoggedIn:f}}).state("login",{url:"/login",templateUrl:"views/login.html",controller:"AuthCtrl",resolve:{skipIfLoggedIn:f}}).state("logout",{url:"/logout",templateUrl:null,controller:"AuthCtrl"}).state("forgot",{url:"/forgot",templateUrl:"views/forgot.html",controller:"ForgotCtrl",resolve:{skipIfLoggedIn:f}}).state("changePassword",{url:"/resetearPassword/:userId",templateUrl:"views/resetpassword.html",controller:"ForgotCtrl",resolve:{skipIfLoggedIn:f}}).state("profile",{url:"/mi-perfil",templateUrl:"views/miperfil.html",controller:"ProfileCtrl",resolve:{loginRequired:g}}).state("adminHome",{url:"/candidatos-postulados",templateUrl:"views/admin/home.html",controller:"AdminCtrl",rol:e.admin,resolve:{loginRequired:g}}).state("newCandidate",{url:"/candidatos-postulados/nuevo",templateUrl:"views/admin/newCandidate.html",controller:"AdminCtrl",rol:e.admin,resolve:{loginRequired:g}}).state("students",{url:"/estudiantes",templateUrl:"views/admin/users.html",controller:"AdminCtrl",rol:e.admin,resolve:{loginRequired:g}}).state("newStudent",{url:"/estudiantes/nuevo",templateUrl:"views/admin/newUser.html",controller:"AdminCtrl",rol:e.admin,resolve:{loginRequired:g}}).state("candidateHome",{url:"/opciones",templateUrl:"views/candidate/home.html",controller:"CandidateCtrl",rol:e.candidate,resolve:{loginRequired:g}}).state("propuestas",{url:"/propuestas",templateUrl:"views/candidate/propuestas.html",controller:"CandidateCtrl",rol:e.candidate,resolve:{loginRequired:g}}).state("myEvents",{url:"/mis-eventos",templateUrl:"views/candidate/events.html",controller:"EventCtrl",rol:e.candidate,resolve:{loginRequired:g}}).state("myPosts",{url:"/mis-posts",templateUrl:"views/candidate/posts.html",controller:"PostCtrl",rol:e.candidate,resolve:{loginRequired:g}}).state("newPost",{url:"/mis-posts/nuevo",templateUrl:"views/candidate/newPost.html",controller:"PostCtrl",rol:e.candidate,resolve:{loginRequired:g}}).state("readPost",{url:"/mis-posts/:postId",templateUrl:"views/candidate/readPost.html",controller:"PostCtrl",rol:e.candidate,resolve:{loginRequired:g}}).state("studentHome",{url:"/candidatos",templateUrl:"views/student/home.html",controller:"StudentCtrl",rol:e.student,resolve:{loginRequired:g}}).state("profileCandidate",{url:"/candidatos/:candidateId",templateUrl:"views/student/profileCandidate.html",controller:"StudentCtrl",rol:e.student,resolve:{loginRequired:g}}).state("studentReadPost",{url:"/posts/:postId",templateUrl:"views/student/readPost.html",controller:"StudentCtrl",rol:e.student,resolve:{loginRequired:g}}).state("events",{url:"/eventos",templateUrl:"views/student/events.html",controller:"StudentCtrl",rol:e.student,resolve:{loginRequired:g}}).state("posts",{url:"/posts",templateUrl:"views/student/posts.html",controller:"StudentCtrl",rol:e.student,resolve:{loginRequired:g}}),c.facebook({clientId:"1683495401866770"}),c.instagram({clientId:"bd39c18aa6ef4403ab506022691e1445"}),c.twitter({url:"/auth/twitter"}),c.loginUrl=d.url+"auth/login",c.signupUrl=d.url+"users/signup",c.tokenName="token",c.tokenPrefix="UnicorElige"}]).run(["$rootScope","$auth","toastr",function(a,b,c){a.$on("$stateChangeStart",function(a,d){d.rol&&b.getPayload()&&d.rol!==b.getPayload().role&&(c.error("Acceso denegado!"),a.preventDefault())})}])}(),function(){"use strict";angular.module("unicorEligeApp").constant("Api",{url:"http://ec2-54-148-128-14.us-west-2.compute.amazonaws.com/"})}(),function(){"use strict";angular.module("unicorEligeApp").constant("Rol",{admin:"admin",candidate:"candidato",student:"estudiante"})}(),function(){"use strict";angular.module("unicorEligeApp").controller("NavCtrl",["$rootScope","$scope","$auth",function(a,b,c){a.currentUser=c.getPayload(),b.isAuthenticated=function(){return c.isAuthenticated()}}])}(),function(){"use strict";angular.module("unicorEligeApp").controller("AdminCtrl",["$scope","$state","toastr","Candidates","Users","Unicor",function(a,b,c,d,e,f){a.users=[],a.candidates=[],a.faculties=f.faculty,a.semesters=f.semester,a.loadCandidates=function(){d.allCandidates().then(function(b){a.candidates=b})},a.addCandidate=function(){d.add(a.newCandidate).then(function(d){a.candidates.push(d),b.go("adminHome"),c.success("Candidato creado exitosamente")},function(a){c.error(a.message)})},a.removeCandidate=function(b){d.remove(b._id).then(function(){for(var d in a.candidates)a.candidates[d]===b&&a.candidates.splice(d,1);c.info("Candidato eliminado")})},a.loadUsers=function(){e.allUsers().then(function(b){a.users=b})},a.addUser=function(){e.add(a.newUser).then(function(d){c.info("Usuario creado con exito"),a.users.push(d),b.go("students")},function(a){c.error(a.message)})},a.removeUser=function(b){e.remove(b._id).then(function(){a.users.map(function(c,d){c===b&&a.users.splice(d,1)}),c.info("Usuario eliminado")})},a.$watch("newUser.faculty",function(){a.programs=[],a.newUser&&(f.programs.forEach(function(b){b.faculty===a.newUser.faculty&&a.programs.push(b.program)}),a.newUser.program=a.programs[0])}),a.ordenar=function(b){a.orden===b?a.orden="-"+b:a.orden=b}}])}(),function(){"use strict";angular.module("unicorEligeApp").factory("Candidates",["$http","$q","Api",function(a,b,c){return{allCandidates:function(){var d=b.defer();return a.get(c.url+"candidates/").success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise},getCandidate:function(d){var e=b.defer();return a.get(c.url+"candidates/"+d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},profile:function(){var d=b.defer();return a.get(c.url+"candidates/profile").success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise},add:function(d){var e=b.defer();return a.post(c.url+"candidates/new",d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},update:function(d){var e=b.defer();return a.put(c.url+"candidates/"+d._id,d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},remove:function(d){var e=b.defer();return a["delete"](c.url+"candidates/"+d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise}}}])}(),function(){"use strict";angular.module("unicorEligeApp").factory("Users",["$http","$q","Api",function(a,b,c){return{allUsers:function(){var d=b.defer();return a.get(c.url+"users/").success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise},add:function(d){var e=b.defer();return a.post(c.url+"users/new",d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},remove:function(d){var e=b.defer();return a["delete"](c.url+"users/"+d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise}}}])}(),function(){"use strict";angular.module("unicorEligeApp").constant("Unicor",{faculty:["Ingenierías","Medicina Veterinaria y Zootecnia","Ciencias Básicas","Ciencias Agrícolas","Educación y Ciencias Humanas","Ciencias Económicas, Jurídicas y Administrativas","Ciencias de la Salud"],programs:[{program:"Ingeniería de Alimentos",faculty:"Ingenierías"},{program:"Ingeniería Ambiental",faculty:"Ingenierías"},{program:"Ingeniería Industrial",faculty:"Ingenierías"},{program:"Ingeniería Mecánica",faculty:"Ingenierías"},{program:"Ingeniería de Sistemas",faculty:"Ingenierías"},{program:"Medicina Veterinaria y Zootecnia",faculty:"Medicina Veterinaria y Zootecnia"},{program:"Acuicultura",faculty:"Medicina Veterinaria y Zootecnia"},{program:"Biología",faculty:"Ciencias Básicas"},{program:"Estadistícas",faculty:"Ciencias Básicas"},{program:"Física",faculty:"Ciencias Básicas"},{program:"Geografía",faculty:"Ciencias Básicas"},{program:"Matemáticas",faculty:"Ciencias Básicas"},{program:"Química",faculty:"Ciencias Básicas"},{program:"Ingeniería Agronómica",faculty:"Ciencias Agrícolas"},{program:"Licenciatura en Educación Básica con Énfasis en Humanidades-Lengua Castellana",faculty:"Educación y Ciencias Humanas"},{program:"Licenciatura en Educación Física, Recreacíon y Deportes",faculty:"Educación y Ciencias Humanas"},{program:"Licenciatura en Informática y Medios Audiovisuales",faculty:"Educación y Ciencias Humanas"},{program:"Licenciatura en Educación Básica con Énfasis en Humanidades-Inglés",faculty:"Educación y Ciencias Humanas"},{program:"Licenciatura en Educación Básica con Énfasis en Ciencias Sociales",faculty:"Educación y Ciencias Humanas"},{program:"Licenciatura en Educación Básica con Énfasis en Educación Artística-Música",faculty:"Educación y Ciencias Humanas"},{program:"Licenciatura en Ciencias Naturales y Educación Ambiental",faculty:"Educación y Ciencias Humanas"},{program:"Administración en Finanzas y Negocios Internacionales",faculty:"Ciencias Económicas, Jurídicas y Administrativas"},{program:"Administración en Salud",faculty:"Ciencias de la Salud"},{program:"Bacteriología",faculty:"Ciencias de la Salud"},{program:"Enfermería",faculty:"Ciencias de la Salud"},{program:"Enfermería",faculty:"Tecnología en Regencia y Farmacia"}],semester:["1","2","3","4","5","6","7","8","9","10"]})}(),function(){"use strict";angular.module("unicorEligeApp").controller("AuthCtrl",["$rootScope","$scope","$auth","$state","toastr",function(a,b,c,d,e){b.login=function(){c.login(b.user).then(function(b){e.success("Inicio de sesión exitoso :)",b.status),"admin"===c.getPayload().role?d.go("adminHome"):"candidato"===c.getPayload().role?d.go("propuestas"):"estudiante"===c.getPayload().role&&d.go("studentHome"),a.currentUser=c.getPayload()})["catch"](function(a){e.error(a.data.message,a.status)})},c.isAuthenticated()&&c.logout().then(function(){delete a.currentUser,e.info("Has cerrado sesión, vuelve pronto"),d.go("home")})}])}(),function(){"use strict";angular.module("unicorEligeApp").controller("CandidateCtrl",["$scope","$auth","toastr","Candidates","Proposals",function(a,b,c,d,e){a.currentCandidate={},a.profile=function(){d.profile().then(function(b){a.currentCandidate=b},function(a){c.error(a.mensage)})},a.updateProfile=function(){d.update(a.currentCandidate).then(function(b){c.info("Perfil Actualizado!"),a.currentCandidate=b})},a.link=function(d){b.link(d).then(function(){c.success("Perfil de "+d+" vinculado exitosamente"),a.profile()})["catch"](function(a){c.error(a.data.message,a.status)})},a.unlink=function(b){d.update({_id:a.currentCandidate._id,provider:b}).then(function(d){c.info("Se desvinculó la cuenta de "+b),a.profile()})},a.showFormToEdit=function(b){a.proposalToEdit={},$("#formAddProposal").hide(),$("#formUpdateProposal").show(),a.proposalToEdit=b},a.addProposal=function(){e.add(a.newProposal).then(function(b){a.currentCandidate.proposals.push(b),c.info("Propuesta agregada"),a.newProposal={}})},a.updateProposal=function(){e.update(a.proposalToEdit).then(function(b){a.currentCandidate.proposals.map(function(c,d){c._id===b._id&&(a.currentCandidate.proposals[d]=b)}),delete a.proposalToEdit,$("#formUpdateProposal").hide(),$("#formAddProposal").show(),c.info("Propuesta actualizada")},function(a){console.log(a)})},a.removeProposal=function(b){e.remove(b._id).then(function(){a.currentCandidate.proposals.map(function(c,d){c===b&&a.currentCandidate.proposals.splice(d,1)}),c.info("Propuesta eliminada")})}}])}(),function(){"use strict";angular.module("unicorEligeApp").factory("Proposals",["$http","$q","Api",function(a,b,c){return{add:function(d){var e=b.defer();return a.post(c.url+"proposals/new",d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},update:function(d){var e=b.defer();return a.put(c.url+"proposals/"+d._id,d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},remove:function(d){var e=b.defer();return a["delete"](c.url+"proposals/"+d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise}}}])}(),function(){"use strict";angular.module("unicorEligeApp").controller("PostCtrl",["$rootScope","$scope","$state","$stateParams","toastr","Posts","Comments",function(a,b,c,d,e,f,g){b.posts=[],b.addComment={},b.myPosts=function(){f.myPosts().then(function(a){a.forEach(function(a){a.content=a.content.substring(0,150)+"..."}),b.posts=a})},b.readPost=function(){f.getPost(d.postId).then(function(a){b.currentPost=a})},b.createPost=function(){f.add(b.newPost).then(function(a){e.info("Post Creado exitosamente"),b.newPost={},b.posts.push(a),c.go("myPosts")},function(a){e.error(a.message)})},b.removePost=function(a){f.remove(a._id).then(function(){b.posts.forEach(function(c,d){c===a&&b.posts.splice(d,1)}),e.info("Post eliminado!")})},b.loadComments=function(){g.getComments(d.postId).then(function(a){b.comments=a})},b.newComment=function(){b.addComment.created=Date.now(),b.addComment.post=d.postId,g.add(b.addComment).then(function(c){c.user={},c.user._id=a.currentUser.sub,c.user.displayName=a.currentUser.displayName,c.user.image=a.currentUser.image,b.comments.push(c),b.addComment={}})},b.deleteComment=function(a){console.log(a),g.remove(a._id).then(function(c){b.comments.map(function(c,d){c._id===a._id&&b.comments.splice(d,1)})})},b.editComment=function(a){b.formEdit=!0,b.commentEdit=a},b.updateComment=function(){b.commentEdit.edited=Date.now(),g.update(b.commentEdit).then(function(a){b.comments.map(function(a,c){a.id===b.commentEdit.id&&(a=b.commentEdit)}),b.commentEdit={},b.formEdit=!1,e.info("comentario editado")})}}])}(),function(){"use strict";angular.module("unicorEligeApp").factory("Posts",["$http","$q","Api",function(a,b,c){return{allPosts:function(){var d=b.defer();return a.get(c.url+"posts/").success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise},getPost:function(d){var e=b.defer();return a.get(c.url+"posts/"+d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},myPosts:function(){var d=b.defer();return a.get(c.url+"posts/me").success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise},postsCandidate:function(d){var e=b.defer();return a.get(c.url+"posts/candidates/"+d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},add:function(d){var e=b.defer(),f=new FormData;for(var g in d)f.append(g,d[g]);return a.post(c.url+"posts/new",f,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},addComment:function(d,e){var f=b.defer();return a.put(c.url+"posts/newComment/"+d,e).success(function(a){f.resolve(a)}).error(function(a){f.reject(a)}),f.promise},remove:function(d){var e=b.defer();return a["delete"](c.url+"posts/"+d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise}}}])}(),function(){"use strict";angular.module("unicorEligeApp").directive("fileModel",["$parse",function(a){return{restrict:"A",link:function(b,c,d){var e=a(d.fileModel),f=e.assign;c.bind("change",function(){b.$apply(function(){f(b,c[0].files[0])})})}}}])}(),function(){"use strict";angular.module("unicorEligeApp").controller("EventCtrl",["$scope","$compile","$uibModal","Events",function(a,b,c,d){a.events=[],a.loadEvents=function(){d.myEvents().then(function(b){b.map(function(b){b.start=new Date(b.start),b.end=new Date(b.end),a.events.push(b)})})},a.onDayClick=function(b){var e=c.open({animation:!0,template:'<div><div class="modal-header"><h3 class="modal-title text-center">Agregar Evento</h3></div><div class="modal-body" name="addEventForm" novalidate></div><form name="addEventForm" class="modal-body"><div class="form-group"><label for="title">Titulo: </label><input class="form-control " type="text" name="title" ng-model="newEvent.title" placeholder="Nombre del evento" required><div class="help-block" ng-if="addEventForm.title.$dirty" ng-messages="addEventForm.title.$error"><div ng-message="required">Escriba El titulo del Evento</div></div></div><div class="form-group"><label for="place">Lugar: </label><input class="form-control " type="text" name="place" ng-model="newEvent.place" placeholder="Lugar del evento" required><div class="help-block" ng-if="addEventForm.place.$dirty" ng-messages="addEventForm.place.$error"><div ng-message="required">Escriba el Lugar donde se realizará el evento</div></div></div><div class="form-group"><label for="time">Hora : </label><div class="input-group date" id="datetimepicker3"><input  id="timeStart" type="text" name="time" class="form-control" required/><span class="input-group-addon"><span class="glyphicon glyphicon-time"></span></span></div></div><div class="form-group"><strong>Fecha: </strong><span>{{newEvent.start | date:"MMM d, y"}}</span></div><script>$(function () {$("#datetimepicker3").datetimepicker({format: "H:mm"});});</script></form><div class="modal-footer"><button class="btn btn-primary" type="button" ng-disabled="addEventForm.$invalid" ng-click="ok()">Guardar</button><button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button></div></div>',controller:"modalAddEventCtrl",size:"sm",resolve:{date:function(){return b.format()}}});e.result.then(function(b){d.add(b).then(function(b){a.events.push(b)})},function(){console.log("Modal dismissed at: "+new Date)})},a.onEventClick=function(a){var b=c.open({animation:!0,template:'<div><div class="modal-header"><h3 class="text-center"><span>{{viewEventClicked.title}}</span></h3></div><div class="modal-body"><strong>Fecha </strong> : <span>{{viewEventClicked.start | date:"longDate"}}</span><br><strong>Hora </strong> : <span>{{viewEventClicked.start | date:"h:mma"}}</span><br><strong>Lugar</strong> : <span>{{viewEventClicked.place}}</span></div><div class="modal-footer"><a class="btn btn-success" ng-click="ok()">Ok</a></div></div>',controller:"modalViewEventCtrl",size:"sm",resolve:{evClicked:function(){return a}}});b.result.then(function(a){console.log("Modal dismissed at: "+new Date)},function(){console.log("Modal dismissed at: "+new Date)})},a.eventRender=function(c,d){d.attr({tooltip:c.title,"tooltip-append-to-body":!0}),b(d)(a)},a.editEvent=function(b){var e=c.open({animation:!0,template:'<div><div class="modal-header"><h3 class="modal-title text-center">Editar Evento</h3></div><div class="modal-body"><div class="form-group"><label for="title">Titulo: </label><input class="form-control " type="text" name="title" ng-model="eventEdit.title" placeholder="Ingresa el nombre del evento"></div><div class="form-group"><label for="place">Lugar: </label><input class="form-control " type="text" name="place" ng-model="eventEdit.place" placeholder="Ingresa el nombre del lugar donde se realizará el evento"></div><div class="form-group"><label for="time">Hora : </label><div class="input-group date" id="datetimepicker3"><input  id="timeEdit" type="text" name="time" class="form-control" ng-model="timeEdit"><span class="input-group-addon"><span class="glyphicon glyphicon-time"></span></span></div><script type="text/javascript">$(function () {$("#datetimepicker3").datetimepicker({format: "H:mm"});});</script></div><div class="form-group"><strong>Fecha: </strong><span ng-bind="date"></span></div></div><div class="modal-footer"><button class="btn btn-primary" type="button" ng-click="ok()">OK</button><button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button></div></div>',controller:"modalEditEventCtrl",size:"sm",resolve:{eventToUpdate:function(){return b}}});e.result.then(function(b){var c={_id:b._id,title:b.title,place:b.place,start:b.start};d.update(c).then(function(){a.events.map(function(a){a._id===c._id&&(a.title=c.title,a.place=c.place,a.start=c.start)})})},function(){console.log("Modal dismissed at: "+new Date)})},a.remove=function(b){d.remove(b._id).then(function(){a.events.map(function(c,d){c===b&&a.events.splice(d,1)})})},a.uiConfig={calendar:{lang:"es",timeFormat:"h:mm a",timezone:"local",header:{right:"today, prev,next"},dayClick:a.onDayClick,eventClick:a.onEventClick,eventRender:a.eventRender,viewRender:a.viewRender}},a.eventSources=[a.events]}]).controller("modalViewEventCtrl",["$scope","$modalInstance","evClicked",function(a,b,c){a.viewEventClicked=c,a.viewEventClicked.start=moment(c.start).format(),a.ok=function(a){b.close()},a.cancel=function(){b.dismiss("cancel")}}]).controller("modalAddEventCtrl",["$scope","$modalInstance","date",function(a,b,c){a.newEvent={},a.newEvent.start=moment(c).format("LL"),a.ok=function(){var d=document.getElementById("timeStart"),e=c.split("-"),f=d.value.split(":");a.newEvent.start=new Date(Number(e[0]),Number(e[1])-1,Number(e[2]),Number(f[0]),Number(f[1])),a.newEvent.end=a.newEvent.start,b.close(a.newEvent)},a.cancel=function(){b.dismiss("cancel")}}]).controller("modalEditEventCtrl",["$scope","$modalInstance","eventToUpdate",function(a,b,c){a.eventEdit=c,a.timeEdit=moment(a.eventEdit.start).format("H:m"),a.date=moment(a.eventEdit.start).format("LL"),a.ok=function(){var c=new Date(a.eventEdit.start),d=c.getDate(),e=c.getMonth(),f=c.getFullYear(),g=document.getElementById("timeEdit").value.split(":");a.eventEdit.start=new Date(f,e,d,g[0],g[1]),b.close(a.eventEdit)},a.cancel=function(){b.dismiss("cancel")}}])}(),function(){"use strict";angular.module("unicorEligeApp").factory("Events",["$http","$q","Api",function(a,b,c){return{allEvents:function(){var d=b.defer();return a.get(c.url+"events/").success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise},myEvents:function(){var d=b.defer();return a.get(c.url+"events/me").success(function(a){d.resolve(a)}).error(function(a){d.reject(a)}),d.promise},eventsCandidate:function(d){var e=b.defer();return a.get(c.url+"events/candidateEvents/"+d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},add:function(d){var e=b.defer();return a.post(c.url+"events/new",d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},update:function(d){var e=b.defer();return a.put(c.url+"events/"+d._id,d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},remove:function(d){var e=b.defer();return a["delete"](c.url+"events/"+d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise}}}])}(),function(){"use strict";angular.module("unicorEligeApp").controller("StudentCtrl",["$rootScope","$scope","$stateParams","toastr","Candidates","Events","Posts","Comments",function(a,b,c,d,e,f,g,h){b.showProposal=!0,b.showEvents=!1,b.showPost=!1,b.uCandidates=[],b.uPosts=[],b.eventsCandidate=[],b.addComment={},b.formEdit=!1,b.loadCandidates=function(){e.allCandidates().then(function(a){b.uCandidates=a})},b.findCandidate=function(){e.getCandidate(c.candidateId).then(function(a){b.candidateSelected=a})},b.findEventsCandidate=function(){f.eventsCandidate(c.candidateId).then(function(a){b.eventsCandidate=a})},b.findPostsCandidate=function(){g.postsCandidate(c.candidateId).then(function(a){b.postsCandidate=a})},b.loadPosts=function(){g.allPosts().then(function(a){a.map(function(a){a.content=a.content.substring(0,150)+"..."}),b.uPosts=a})},b.loadEvents=function(){f.allEvents().then(function(a){b.uEvents=a})},b.readPostCandidate=function(){g.getPost(c.postId).then(function(a){b.postSelected=a})},b.loadComments=function(){h.getComments(c.postId).then(function(a){b.comments=a})},b.newComment=function(){b.addComment.created=Date.now(),b.addComment.post=c.postId,h.add(b.addComment).then(function(c){c.user={},c.user._id=a.currentUser.sub,c.user.displayName=a.currentUser.displayName,c.user.image=a.currentUser.image,b.comments.push(c),b.addComment={}})},b.deleteComment=function(a){h.remove(a._id).then(function(c){b.comments.map(function(c,d){c._id===a._id&&b.comments.splice(d,1)})})},b.editComment=function(a){b.formEdit=!0,b.commentEdit=a},b.updateComment=function(){b.commentEdit.edited=Date.now(),h.update(b.commentEdit).then(function(a){b.comments.map(function(a,c){a.id===b.commentEdit.id&&(a=b.commentEdit)}),b.commentEdit={},b.formEdit=!1,d.info("comentario editado")})},b.getCandidate=function(){console.log(b.postSelected)},b.filter=function(a){var b=new Date,c=b.getMonth();if(console.log(a),"today"===a){console.log("entre");var d=b.getDate();return function(a){var b=new Date(a.start).getDate();return b===d?a:void 0}}if("week"===a){var e=b.getDate()-b.getDay(),f=e+6;return function(a){var b=new Date(a.start).getDate(),d=new Date(a.start).getMonth();return d===c&&b>=e&&f>=b?a:void 0}}if("month"===a){var g=new Date(b.getFullYear(),b.getMonth(),1).getDate(),h=new Date(b.getFullYear(),b.getMonth()+1,0).getDate();return function(a){var b=new Date(a.start).getDate(),d=new Date(a.start).getMonth();return d===c&&b>=g&&h>=b?a:void 0}}}}])}(),function(){"use strict";angular.module("unicorEligeApp").controller("ForgotCtrl",["$scope","$location","$stateParams","toastr","Forgot",function(a,b,c,d,e){a.findUser=function(){e.find(a.searchUser).then(function(b){d.warning(b.message),a.searchUser={}},function(a){d.error(a.message)})},a.reset=function(){e.resetPassword(c.userId,a.password).then(function(a){d.info(a.message),b.path("/login")},function(a){d.error(a.message)})}}])}(),function(){"use strict";angular.module("unicorEligeApp").factory("Forgot",["$http","$q","Api",function(a,b,c){return{find:function(d){var e=b.defer();return a.post(c.url+"users/forgotPassword",d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},resetPassword:function(d,e){var f=b.defer();return a.put(c.url+"users/resetPassword/"+d,e).success(function(a){f.resolve(a)}).error(function(a){f.reject(a)}),f.promise}}}])}(),function(){"use strict";angular.module("unicorEligeApp").controller("ProfileCtrl",["$rootScope","$scope","toastr","Profile",function(a,b,c,d){function e(a){if(a.files&&a.files[0]){var b=new FileReader;b.onload=function(a){$("#imagePreview").attr("src",a.target.result),$("#divButtonsActions").show()},b.readAsDataURL(a.files[0])}}b.changePassword={},b.profile=function(){d.getProfile().then(function(a){b.user=a})},b.updatePassword=function(){d.updatePassword(b.changePassword).then(function(a){c.info(a.message)},function(a){c.error(a.message)})},b.updateUser=function(){d.updateProfile({displayName:b.user.displayName,image:b.user.avatar}).then(function(d){a.currentUser.displayName=d.displayName,a.currentUser.image=d.image,b.user.displayName=d.displayName,b.user.image=d.image,delete b.user.avatar,$("#divUpdateImage").hide(),$("#divChangeImage").show(),c.info("Perfil actualizado!")})},b.changeImage=function(){$("#divChangeImage").hide(),$("#divUpdateImage").show(),$("#inputUpdateImage").change(function(){e(this)})},b.ok=function(){$("#inputUpdateImage").hide(),$("#divButtonsActions").hide()},b.cancel=function(){$("#imagePreview").attr("src",""),$("#divChangeImage").show(),$("#divUpdateImage").hide()}}])}(),function(){"use strict";angular.module("unicorEligeApp").factory("Profile",["$http","$q","$auth","Api",function(a,b,c,d){return{getProfile:function(){var c=b.defer();return a.get(d.url+"users/me").success(function(a){c.resolve(a)}).error(function(a){c.reject(a)}),c.promise},updatePassword:function(e){var f=b.defer();return a.put(d.url+"users/changePassword/"+c.getPayload().sub,e).success(function(a){f.resolve(a)}).error(function(a){f.reject(a)}),f.promise},updateProfile:function(e){var f=b.defer(),g=new FormData;for(var h in e)g.append(h,e[h]);return a.put(d.url+"users/"+c.getPayload().sub,g,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(a){f.resolve(a)}).error(function(a){f.reject(a)}),f.promise}}}])}(),function(){"use strict";angular.module("unicorEligeApp").factory("Comments",["$http","$q","Api",function(a,b,c){return{getComments:function(d){var e=b.defer();return a.get(c.url+"comments/post/"+d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},add:function(d){var e=b.defer();return a.post(c.url+"comments/new",d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},update:function(d){var e=b.defer();return a.put(c.url+"comments/"+d._id,d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise},remove:function(d){var e=b.defer();return a["delete"](c.url+"comments/"+d).success(function(a){e.resolve(a)}).error(function(a){e.reject(a)}),e.promise}}}])}(),angular.module("unicorEligeApp").run(["$templateCache",function(a){"use strict";a.put("views/admin/home.html",'<div class="container" ng-init="loadCandidates()"> <div ng-if="candidates.length" class="list-candidate"> <h1 class="text-center">Candidatos</h1> <p class="text-center"> En esta sección, el administrador podrá visulaizar toda la información de los candidatos postualdos para ser elegidos por la comunidad universitaria.</p><br> <div class="card width" ng-repeat="candidate in candidates | orderBy: \'cardNumber\'"> <div class="panel panel-success"> <div class="panel-heading text-center"> <span class="left">{{candidate.cardNumber}}</span> {{candidate.user.displayName}} <a class="remove pull-right" ng-click="removeCandidate(candidate)"> <i class="ion-android-close icon_remove pointer"></i> </a> </div> <div class="panel-body center"> <figure class="left margin-right float-none"> <img ng-src="{{candidate.user.image.url}}" alt="avatar" class="img-thumbnail" width="150"> </figure> <strong>Identificación</strong> : <span ng-bind="candidate.user.identification.number"></span> <br><strong>Numero de Tarjeton</strong> : <span ng-bind="candidate.cardNumber"></span> <br><strong>Email</strong> : <span ng-bind="candidate.user.email"></span> <br><strong>Facultad</strong> : <span ng-bind="candidate.user.faculty"></span> <br><strong>Programa</strong> : <span ng-bind="candidate.user.program"></span> <br><strong>Semestre</strong> : <span ng-bind="candidate.user.semester"></span> </div> </div> </div> </div> <div class="alert alert-warning text-center" ng-if="!candidates.length"> No hay candidatos inscritos, si lo deseas puedes <a href="#/candidatos-postulados/nuevo">crear uno.</a> </div> </div>'),a.put("views/admin/newCandidate.html",'<div class="container_copy"> <div class="center-form panel"> <div class="panel-body"> <h2 class="text-center">Crear Candidato</h2> <form method="post" ng-submit="addCandidate()" name="candidateForm" class="ng-pristine ng-invalid ng-invalid-required"> <div class="form-group has-feedback"> <input class="form-control input-lg ng-pristine ng-invalid ng-invalid-required ng-touched" type="text" name="identification" ng-model="newCandidate.number" placeholder="Cedula" required autofocus> <span class="ion-person form-control-feedback"></span> </div> <div class="form-group has-feedback"> <input class="form-control input-lg ng-pristine ng-invalid ng-invalid-required ng-touched" type="text" name="password" ng-model="newCandidate.cardNumber" placeholder="N° Tarjetón" required autofocus> <span class="ion-pound form-control-feedback"></span> </div> <button type="submit" ng-disabled="candidateForm.$invalid" class="btn btn-lg btn-block btn-success" disabled>Crear</button> </form> </div> </div> </div>'),a.put("views/admin/newUser.html",'<div class="container_copy"> <div class="center-form panel"> <div class="panel-body"> <h2 class="text-center">Registrar Usuario</h2> <form method="post" ng-submit="addUser()" name="signupForm"> <div class="form-group has-feedback" ng-class="{ \'has-error\' : signupForm.firstName.$invalid && signupForm.firstName.$dirty }"> <input class="form-control input-lg" type="text" name="firstName" ng-model="newUser.firstName" placeholder="Nombre" required autofocus> <span class="ion-person form-control-feedback"></span> <div class="help-block text-danger" ng-if="signupForm.firstName.$dirty" ng-messages="signupForm.firstName.$error"> <div ng-message="required">Escriba el Nombre</div> </div> </div> <div class="form-group has-feedback" ng-class="{ \'has-error\' : signupForm.lastName.$invalid && signupForm.lastName.$dirty }"> <input class="form-control input-lg" type="text" name="lastName" ng-model="newUser.lastName" placeholder="Apellido" required autofocus> <span class="ion-person form-control-feedback"></span> <div class="help-block text-danger" ng-if="signupForm.lastName.$dirty" ng-messages="signupForm.lastName.$error"> <div ng-message="required">Escriba el Apellido</div> </div> </div> <div class="form-group has-feedback" ng-init="newUser.identification.type = \'CC\'"> <select class="form-control input-lg" ng-model="newUser.identification.type"> <option>TI</option> <option>CC</option> <option>CE</option> </select> </div> <div class="form-group has-feedback" ng-class="{ \'has-error\': signupForm.number.$invalid && signupForm.number.$dirty }"> <input class="form-control input-lg" type="text" name="number" ng-model="newUser.identification.number" placeholder="N° identificacíon" required> <span class="ion-pound form-control-feedback"></span> <div class="help-block" ng-if="registroForm.number.$dirty" ng-messages="registroForm.number.$error"> <div ng-message="required">Escriba el numero de identificacíon</div> </div> </div> <div class="form-group has-feedback"> <select class="form-control input-lg" ng-model="newUser.faculty" ng-options="faculty for faculty in faculties" ng-init="newUser.faculty = faculties[0]"></select> </div> <div class="form-group has-feedback"> <select class="form-control input-lg" ng-model="newUser.program" ng-options="program for program in programs"> </select> </div> <div class="form-group has-feedback"> <select class="form-control input-lg" ng-model="newUser.semester" ng-init="newUser.semester = semesters[0]"> <option ng-repeat="semester in semesters">{{semester}}</option> </select> </div> <div class="form-group has-feedback" ng-class="{ \'has-error\' : signupForm.email.$invalid && signupForm.email.$dirty }"> <input class="form-control input-lg" type="email" id="email" name="email" ng-model="newUser.email" placeholder="Email" required> <span class="ion-at form-control-feedback"></span> <div class="help-block text-danger" ng-if="signupForm.email.$dirty" ng-messages="signupForm.email.$error"> <div ng-message="required">Your email address is required.</div> <div ng-message="pattern">Your email address is invalid.</div> </div> </div> <button type="submit" ng-disabled="signupForm.$invalid" class="btn btn-lg btn-block btn-primary">Sign up</button> </form> </div> </div> </div>'),
a.put("views/admin/users.html",'<div class="container-fluid" ng-init="loadUsers()"> <div ng-if="users.length"> <div class="text-center"> <h2>Estudiantes</h2> <p>Lista de todos los estudiantes matriculados en los diferentes programas de la universidad de Córdoba.</p> <br> </div> <div class="container-fluid"> <div class="form-group has-feedback"> <input class="form-control input-lg ng-pristine ng-invalid ng-invalid-required ng-touched" type="text" name="search" ng-model="search" placeholder="Buscar..." required autofocus> <span class="ion-search form-control-feedback"></span> </div> </div> <div class="table-responsive col-md-12"> <table class="table table-bordered table-hover text-center"> <thead> <tr class="success"> <th class="text-center">Código</th> <th class="text-center">Usuario <span class="ion-arrow-down-b pointer" ng-click="ordenar(\'firstName\')"></span></th> <th class="text-center">Role <span class="ion-arrow-down-b pointer" ng-click="ordenar(\'roles\')"></span></th> <th class="text-center">Tipo</th> <th class="text-center">Numero</th> <th class="text-center">Facultad <span class="ion-arrow-down-b pointer" ng-click="ordenar(\'faculty\')"></span></th> <th class="text-center">Programa <span class="ion-arrow-down-b pointer" ng-click="ordenar(\'program\')"></span></th> <th class="text-center">Semestre</th> <th class="text-center">Email</th> <th class="text-center">Acción</th> </tr> </thead> <tbody> <tr ng-repeat="user in users | orderBy: orden | filter: search"> <td>{{user._id}}</td> <td>{{user.firstName}} {{user.lastName}}</td> <td>{{user.roles[0]}}</td> <td>{{user.identification.type}}</td> <td>{{user.identification.number}}</td> <td>{{user.faculty}}</td> <td>{{user.program}}</td> <td>{{user.semester}}</td> <td>{{user.email}}</td> <td class="text-center"> <a class="size" ng-click="removeUser(user)"> <i class="ion-trash-a icon_remove pointer"></i> </a> </td> </tr> </tbody> </table> </div> </div> <div class="alert alert-warning text-center" ng-if="!users.length"> No hay usuarios guardados, si lo deseas puedes <a href="#/estudiantes/nuevo">crear un usuario</a> </div> </div>'),a.put("views/candidate/editEvent.html",'<div> <div class="modal-header"> <h3 class="modal-title text-center">Agregar Evento</h3> </div> <div class="modal-body"> <div class="form-group"> <label for="title">Titulo: </label> <input class="form-control" type="text" name="title" ng-model="eventEdit.title" placeholder="Ingresa el nombre del evento"> </div> <div class="form-group"> <label for="place">Lugar: </label> <input class="form-control" type="text" name="place" ng-model="eventEdit.place" placeholder="Ingresa el nombre del lugar donde se realizará el evento"> </div> <div class="form-group"> <label for="time">Hora : </label> <div class="input-group date" id="datetimepicker3"> <input id="timeEdit" type="text" name="time" class="form-control" ng-model="timeEdit"> <span class="input-group-addon"> <span class="glyphicon glyphicon-time"></span> </span> </div> <script type="text/javascript">$(function () {\n                $(\'#datetimepicker3\').datetimepicker({\n                    format: \'H:mm\'\n                });\n            });</script> </div> <div class="form-group"> <strong>Fecha: </strong><span ng-bind="date"></span> </div> </div> <div class="modal-footer"> <button class="btn btn-primary" type="button" ng-click="ok()">OK</button> <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button> </div> </div>'),a.put("views/candidate/events.html",'<div class="container-fluid"> <aside class="col-md-4"> <h3 class="text-center">Mis Eventos</h3> <div class="alert alert-info" ng-repeat="event in events | orderBy: \'start\'"> <div class="form-group" style="float: right"> <button class="btn btn-warning btn-xs" ng-click="editEvent(event)"><i class="glyphicon glyphicon-pencil"></i></button>&nbsp; <button class="btn btn-danger btn-xs" ng-click="remove(event)"><i class="glyphicon glyphicon-trash"></i></button> </div> <h4 class="text-center" ng-bind="event.title"></h4> <strong>Fecha: </strong><span ng-bind="event.start | date:\'mediumDate\'"></span><br> <strong>Hora: </strong><span ng-bind="event.start | date:\'h:mma\'"></span><br> <strong>Lugar: </strong><span ng-bind="event.place"></span> </div> <div class="alert alert-warning text-center" ng-if="!events.length"> no hay eventos Guardados </div> </aside> <section class="col-md-7" ng-init="loadEvents()" style="margin-top:1em"> <div ui-calendar="uiConfig.calendar" class="span7 calendar" ng-model="eventSources"></div> </section> </div>'),a.put("views/candidate/home.html",'<div class="container"> <div class="col-md-8 col-md-offset-2 margin-up"> <a href="#/propuestas" class="btn btn-info btn-lg btn-block option"> Propuestas <span class="icon ion-ios-paper-outline pull-right"></span> </a> <a href="#/mis-eventos" class="btn btn-info btn-lg btn-block option"> Eventos <span class="icon ion-calendar pull-right"></span> </a> <a href="#/mis-posts" class="btn btn-info btn-lg btn-block option"> Post <span class="icon ion-compose pull-right"></span> </a> </div> </div>'),a.put("views/candidate/newEvent.html",'<div> <div class="modal-header"> <h3 class="modal-title text-center">Agregar Evento</h3> </div> <div class="modal-body" name="addEventForm" novalidate> </div> <form name="addEventForm" class="modal-body"> <div class="form-group" ng-class="{ \'has-error\': addEventForm.title.$invalid && addEventForm.title.$dirty }"> <label for="title">Titulo: </label> <input class="form-control" type="text" name="title" ng-model="newEvent.title" placeholder="Nombre del evento" required> <div class="help-block" ng-if="addEventForm.title.$dirty" ng-messages="addEventForm.title.$error"> <div ng-message="required">Escriba El titulo del Evento</div> </div> </div> <div class="form-group" ng-class="{ \'has-error\': addEventForm.place.$invalid && addEventForm.place.$dirty }"> <label for="place">Lugar: </label> <input class="form-control" type="text" name="place" ng-model="newEvent.place" placeholder="Lugar del evento" required> <div class="help-block" ng-if="addEventForm.place.$dirty" ng-messages="addEventForm.place.$error"> <div ng-message="required">Escriba el Lugar donde se realizará el evento</div> </div> </div> <div class="form-group"> <label for="time">Hora : </label> <div class="input-group date" id="datetimepicker3"> <input id="timeStart" type="text" name="time" class="form-control" required> <span class="input-group-addon"> <span class="glyphicon glyphicon-time"></span> </span> </div> </div> <div class="form-group"> <strong>Fecha: </strong><span ng-bind="newEvent.start | date:\'MMM d, y \'"></span> </div> <script>$(function () {\n		      $(\'#datetimepicker3\').datetimepicker({\n		        format: \'H:mm\'\n		      });\n		    });</script> </form> <div class="modal-footer"> <button class="btn btn-primary" type="button" ng-disabled="addEventForm.$invalid" ng-click="ok()">Guardar</button> <button class="btn btn-warning" type="button" ng-click="cancel()">Cancel</button> </div> </div>'),a.put("views/candidate/newPost.html",'<div class="container-fluid"> <section class="col-md-7 col-md-offset-1 padding-top"> <div class="panel panel-success"> <div class="panel-heading"> <h3 class="text-center">Crear Post</h3> </div> <div class="panel-body"> <form method="post" ng-submit="createPost()" name="postForm" class="ng-pristine ng-invalid ng-invalid-required"> <div class="form-group"> <label for="title" class="control-label">Titulo:</label> <input type="text" name="title" class="form-control ng-pristine ng-invalid ng-invalid-required" placeholder="Titulo del post" ng-model="newPost.title" required autofocus> </div> <div class="form-group"> <label for="image">Imagen:</label> <input type="file" name="image" file-model="newPost.image"> </div> <div class="form-group"> <label for="content" class="control-label">Contenido:</label> <textarea name="content" rows="20" class="form-control ng-pristine ng-invalid ng-invalid-required" placeholder="Escriba aqui el contenido del post" ng-model="newPost.content" required></textarea> </div> <div class="text-center"> <button type="submit" class="btn btn-lg btn-primary" ng-disabled="postForm.$invalid">Publicar</button> </div> </form> </div> </div> </section> <aside class="col-md-3 col-md-offset-1 padding-top"> <div class="panel panel-info"> <div class="panel-heading text-center"> Ten encuenta.... </div> <div class="panel-body"> <p>No es necesario que agreges una imagen al post, es opcional, sin embargo ten encuenta que si la agregas tu publicación es más llamativa y por ende más leída.</p> </div> </div> </aside> </div>'),a.put("views/candidate/posts.html",'<section class="container-fluid" ng-init="myPosts()"> <h1 class="text-center margin-down"> Mis Posts</h1> <div class="content text-center"> <div class="post" ng-repeat="post in posts | orderBy:\'created\'"> <article class="panel panel-default"> <div class="panel-heading"> <a class="remove pull-right" ng-click="removePost(post)"> <i class="ion-android-close icon_remove pointer"></i> </a> <a href="#/mis-posts/{{post._id}}" class="card-link"> <h3 class="card-title text-center">{{post.title}}</h3> </a> <h6 class="card-subtitle text-muted"> <div class="text-left">{{post.created | date:\'mediumDate\'}}</div> <div class="candidate-post-comments" style="text-align:right"> <strong>{{post.comments.length}}</strong> comentarios </div> </h6> </div> <div class="panel-footer not-padding"> <a href="#/mis-posts/{{post._id}}" class="card-link right"> <figure class="text-center candidate__post__image"> <img ng-src="{{post.image.url}}" alt="image_post"> </figure> </a> </div> </article> </div> <div class="alert alert-warning text-center" ng-if="!posts.length"> Aún no tienes posts, si lo deseas puedes <a href="#/mis-posts/nuevo">crear uno</a> </div> </div> </section>'),a.put("views/candidate/propuestas.html",'<div class="container-fluid"> <aside class="col-md-4 col-lg-3" ng-init="profile()"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title text-center">Perfil</h3> </div> <div class="panel-body"> <img src="" alt="avatar" ng-src="{{currentCandidate.user.image.url}}" class="candidate-avatar"> <h1 class="text-center">#{{currentCandidate.cardNumber}}</h1> <h3 class="text-center margin-down">{{currentCandidate.user.displayName}}</h3> <p class="text-center">{{currentCandidate.user.program}}</p> <div class="signup-or-separator"><hr></div> <br> <form method="post" ng-submit="updateProfile()" name="updateProfileForm" class="ng-pristine ng-invalid ng-invalid-required"> <div class="form-group"> <label for="watchword" class="control-label">Lema :</label> <input type="text" class="form-control ng-pritine ng-valid ng-touched" ng-model="currentCandidate.watchword"> </div> <div class="form-group"> <label for="biography" class="control-label">Acerca de mi :</label> <textarea name="biography" rows="5" class="form-control ng-pritine ng-valid ng-touched" ng-model="currentCandidate.biography"></textarea> </div> <div class="text-center"> <button type="submit" class="btn btn-lg btn-primary" ng-disabled="updateProfileForm.$pristine">Actualizar</button> </div> </form> <div> <div class="signup-or-separator"><hr></div> <h4 class="text-center">Redes Sociles</h4> <button class="btn btn-block btn-twitter" ng-if="!currentCandidate.twitter" ng-click="link(\'twitter\')"> <i class="ion-social-twitter"></i> Conectar con Twitter </button> <button class="btn btn-block btn-danger" ng-if="currentCandidate.twitter" ng-click="unlink(\'twitter\')"> Desconectar de Twitter </button> <button class="btn btn-block btn-facebook" ng-if="!currentCandidate.facebook" ng-click="link(\'facebook\')"> <i class="ion-social-facebook"></i> Conectar con Facebook </button> <button class="btn btn-block btn-danger" ng-if="currentCandidate.facebook" ng-click="unlink(\'facebook\')"> Desconectar de Facebook </button> <button class="btn btn-block btn-instagram" ng-if="!currentCandidate.instagram" ng-click="link(\'instagram\')"> <i class="ion-social-instagram"></i> conectar con Instagram </button> <button class="btn btn-block btn-danger" ng-if="currentCandidate.instagram" ng-click="unlink(\'instagram\')"> Desconectar de Instagram </button> </div> </div> </div> </aside> <section class="col-md-8 col-lg-9"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title text-center">Propuestas</h3> </div> <div class="panel-body"> <form method="post" ng-submit="addProposal()" id="formAddProposal" name="addProposalForm" class="ng-pristine ng-invalid ng-invalid-required"> <div class="col-md-9"> <div class="form-group"> <label for="biography" class="control-label">Ingresar propuesta :</label> <textarea name="biography" rows="5" cols="10" class="form-control ng-pritine ng-valid ng-touched" ng-model="newProposal.content" required></textarea> <div class="pull-right"> <small class="color-olive-light"> {{newProposal.content.length || 0}} </small> </div> </div> </div> <div class="col-md-3 button_proposal"> <button type="submit" class="btn btn-primary" ng-disabled="addProposalForm.$invalid"><span class="ion-paper-airplane"></span> Guardar</button> </div> </form> <form method="post" ng-submit="updateProposal()" id="formUpdateProposal" name="updateProposalForm" class="ng-pristine ng-invalid ng-invalid-required" style="display:none"> <div class="col-md-9"> <div class="form-group"> <label for="biography" class="control-label">Ingresar propuesta :</label> <textarea name="biography" rows="5" cols="10" class="form-control ng-pritine ng-valid ng-touched" ng-model="proposalToEdit.content" required></textarea> </div> </div> <div class="col-md-3 button_proposal"> <button type="submit" class="btn btn-warning" ng-disabled="updateProposalForm.$invalid"><span class="ion-refresh"></span> Actualizar</button> </div> </form> <div class="col-md-12"> <div class="signup-or-separator"> <hr> </div> <div class="table-responsive" ng-if="currentCandidate.proposals.length"> <table class="table table-bordered table-hover"> <thead> <tr class=""> <th class="text-center" style="width:50px">N°</th> <th class="text-center">Propuesta</th> <th class="text-center" style="width: 80px">Acción</th> </tr> </thead> <tbody> <tr ng-repeat="proposal in currentCandidate.proposals"> <td>{{$index +1}}</td> <td>{{proposal.content}}</td> <td> <a class="pointer size" ng-click="showFormToEdit(proposal)"> <i class="ion-edit icon_edit"></i> </a> &nbsp;&nbsp; <a class="pointer size" ng-click="removeProposal(proposal)"> <i class="ion-trash-a icon_remove"></i> </a> </td> </tr> </tbody> </table> </div> <div class="alert alert-info text-center" ng-if="!currentCandidate.proposals.length"> No hay propuestas guardadas </div> </div> </div> </div> </section> <div class="col-md-8 col-lg-9" style="display:none"> <div class="panel panel-default"> <div class="panel-heading text-center"> Redes Sociales </div> <div class="panel-body"> <form method="post" name="socialForm" class="ng-pristine ng-invalid ng-invalid-required" ng-submit="updateProfile()"> <div class="col-md-4 col-sm-6"> <div class="text-center facebook"> <span class="ion-social-facebook size"></span> </div> <br> <div class="form-group"> <label for="username" class="control-label"><span class="ion-person"></span> Usuario :</label> <input type="text" name="username" class="form-control ng-pritine ng-valid ng-touched" ng-model="currentCandidate.socials.facebook.username" placeholder="Nombre como apareces en facebook" required> </div> <div class="form-group"> <label for="url" class="control-label"><span class="ion-link"></span> Url :</label> <input type="text" name="url" class="form-control ng-pritine ng-valid ng-touched" ng-model="currentCandidate.socials.facebook.url" placeholder="Url de su perfil"> </div> </div> <div class="col-md-4 col-sm-6"> <div class="text-center twitter"> <span class="ion-social-twitter size"></span> </div> <br> <div class="form-group"> <label for="username" class="control-label"><span class="ion-person"></span> Usuario :</label> <input type="text" name="username" class="form-control ng-pritine ng-valid ng-touched" ng-model="currentCandidate.socials.twitter.username" placeholder="@pepito11"> </div> <div class="form-group"> <label for="url" class="control-label"><span class="ion-link"></span> Url :</label> <input type="text" name="url" class="form-control ng-pritine ng-valid ng-touched" ng-model="currentCandidate.socials.twitter.url" placeholder="Url de su perfil"> </div> </div> <div class="col-md-4 col-sm-6"> <div class="text-center instagram"> <span class="ion-social-instagram size"></span> </div> <br> <div class="form-group"> <label for="username" class="control-label"><span class="ion-person"></span> Usuario :</label> <input type="text" name="username" class="form-control ng-pritine ng-valid ng-touched" ng-model="currentCandidate.socials.instagram.username" placeholder="Nombre como apareces en Instagram"> </div> <div class="form-group"> <label for="url" class="control-label"><span class="ion-link"></span> Url :</label> <input type="text" name="url" class="form-control ng-pritine ng-valid ng-touched" ng-model="currentCandidate.socials.instagram.url" placeholder="Url de su perfil"> </div> </div> <div class="col-md-4 col-md-offset-4"> <br> <button type="submit" class="btn btn-success btn-block btn-lg" ng-disabled="socialForm.$invalid || socialForm.$pristine">Guardar</button> </div> </form> </div> </div> </div> </div>'),a.put("views/candidate/readPost.html",'<div class="container-fluid" ng-init="readPost()"> <div class="margin-up"> <aside class="col-md-4 col-lg-3"> <div class="panel panel-info"> <div class="panel-heading"> <h3 class="panel-title text-center">Perfil</h3> </div> <div class="panel-body text-center"> <img src="" alt="avatar" ng-src="{{currentPost.user.image.url}}" class="candidate-avatar"> <h1>#{{currentPost.candidate.cardNumber}}</h1> <h4 class="green-light">{{currentPost.candidate.watchword}}</h4> <h3>{{currentPost.user.displayName}}</h3> <p class="margin-down">{{currentPost.user.program}}</p> <div ng-if="currentPost.candidate.twitter.id || currentPost.candidate.instagram.id || currentPost.candidate.facebook.id"> <div class="signup-or-separator"><hr></div> <h3 class="text-center">Redes Sociales</h3> <a href="https://facebook.com/{{currentPost.candidate.facebook.id}}" ng-if="currentPost.candidate.facebook.id" class="btn btn-block btn-facebook text-center" target="_blank"> <figure class="left"> <img class="social-avatar" src="" alt="{{currentPost.candidate.facebook.username}}" title="{{currentPost.candidate.facebook.username}}" ng-src="{{currentPost.candidate.facebook.photo}}"> </figure> <span class="ion-social-facebook" style="font-size:3em"></span> <p>{{currentPost.candidate.facebook.username}}</p> </a> <a href="https://twitter.com/{{currentPost.candidate.twitter.username}}" ng-if="currentPost.candidate.twitter.id" class="btn btn-block btn-twitter text-center" target="_blank"> <figure class="left"> <img class="social-avatar" src="" alt="{{currentPost.candidate.twitter.username}}" title="{{currentPost.candidate.twitter.username}}" ng-src="{{currentPost.candidate.twitter.photo}}"> </figure> <span class="ion-social-twitter" style="font-size:3em"></span> <p><span class="ion-at"></span>{{currentPost.candidate.twitter.username}}</p> </a> <a href="https://instagram.com/{{currentPost.candidate.instagram.username}}" ng-if="currentPost.candidate.instagram.id" class="btn btn-block btn-instagram text-center" target="_blank"> <figure class="left"> <img class="social-avatar" src="" alt="{{currentPost.candidate.instagram.username}}" title="{{currentPost.candidate.instagram.username}}" ng-src="{{currentPost.candidate.instagram.photo}}"> </figure> <span class="ion-social-instagram" style="font-size:3em"></span> <p>{{currentPost.candidate.instagram.username}}</p> </a> </div> </div> </div> </aside> <section class="col-md-8 col-lg-9"> <div class="panel panel-info"> <div class="panel-heading"> <h1 class="text-center">{{currentPost.title}}</h1> </div> <div class="panel-body"> <figure class="col-md-offset-1 text-center margin-down"> <center> <img class="img-responsive" src="" alt="img-post" ng-src="{{currentPost.image.url}}" width="700px"> </center> </figure> <p class="margin-down">{{currentPost.content}}</p> <h3 class="margin-up">Comentarios</h3> <div class="comments" ng-init="loadComments()"> <div ng-repeat="comment in comments | orderBy:\'created\'"> <div class="pull-right color-olive-light"> <div ng-if="!comment.edited">{{comment.created | date:\'d MMM y, h:mm a\'}}</div> <div ng-if="comment.edited">editado {{comment.edited | date:\'d MMM y, h:mm a\'}}</div> <div class="pull-right"> <a ng-if="comment.user._id === currentUser.sub" class="pointer size" ng-click="editComment(comment)"> <i class="ion-edit icon_edit"></i> </a> &nbsp;&nbsp; <a ng-if="comment.user._id === currentUser.sub" class="pointer size" ng-click="deleteComment(comment)"> <i class="ion-trash-a icon_remove"></i> </a> </div> </div> <figure class="left"> <img ng-src="{{comment.user.image.url}}" alt="user" class="comments-avatar"> </figure> <small><strong>{{comment.user.displayName}}</strong> dice: </small> <p>{{comment.content}}</p> <div class="signup-or-separator"><hr></div> </div> <div ng-if="!comments.length" class="alert alert-info text-center"> Aún no hay comentarios, se el primero en comentar. </div> </div> <form method="post" ng-if="!formEdit" ng-submit="newComment()" name="comentForm" class="margin-up ng-pristine ng-invalid ng-invalid-required"> <div class="form-group"> <label for="content" class="control-label">Escribe tu comentario:</label> <textarea name="content" rows="4" class="form-control ng-pristine ng-invalid ng-invalid-required" ng-model="addComment.content" required></textarea> </div> <div class="text-center"> <button type="submit" class="btn btn-lg btn-primary" ng-disabled="comentForm.$invalid">Comentar</button> </div> </form> <form method="post" ng-if="formEdit" ng-submit="updateComment()" name="updateComentForm" class="margin-up ng-pristine ng-invalid ng-invalid-required"> <div class="form-group"> <label for="content" class="control-label">Editar comentario:</label> <textarea name="content" rows="4" class="form-control ng-pristine ng-invalid ng-invalid-required" ng-model="commentEdit.content" required></textarea> </div> <div class="text-center"> <button type="submit" class="btn btn-lg btn-warning" ng-disabled="updateComentForm.$invalid">Actualizar</button> </div> </form> </div> </div> </section> </div> </div>'),a.put("views/candidate/viewEvent.html",'<div> <div class="modal-header"> <h3 class="text-center"> <span>{{viewEventClicked.title}}</span> </h3> </div> <div class="modal-body"> <strong>Fecha</strong> : <span>{{viewEventClicked.start | date:"longDate"}}</span> <br><strong>Hora</strong> : <span>{{viewEventClicked.start | date:"h:mma"}}</span> <br><strong>Lugar</strong> : <span>{{viewEventClicked.place}}</span> </div> <div class="modal-footer"> <a class="btn btn-info" ng-click="ok()"> <i class="glyphicon glyphicon-edit"></i> </a> <a class="btn btn-danger" ng-click="ok()"> <i class="glyphicon glyphicon-trash"></i> </a> </div> </div>'),a.put("views/forgot.html",'<div class="container"> <div class="center-form panel"> <div class="panel-body"> <h2 class="text-center">¿Has olvidado la contraseña?</h2> <form method="post" ng-submit="findUser()" name="forgotForm" class="ng-pristine ng-invalid ng-invalid-required"> <p class="text-center">Escribe tu dirección de correo en el cual enviaremos las instrucciones para que puedas resetear tu contraseña.</p><br> <div class="form-group has-feedback"> <input class="form-control input-lg ng-pristine ng-invalid ng-invalid-required ng-touched" type="email" name="email" ng-model="searchUser.email" placeholder="Email" required autofocus> <span class="ion-at form-control-feedback"></span> </div> <button type="submit" ng-disabled="forgotForm.$invalid" class="btn btn-lg btn-block btn-success" disabled>Resetear Contraseña</button> </form> </div> </div> </div>'),a.put("views/login.html",'<div class="container"> <div class="center-form panel"> <div class="panel-body"> <h2 class="text-center">Iniciar Sesión</h2> <form method="post" ng-submit="login()" name="loginForm" class="ng-pristine ng-invalid ng-invalid-required"> <div class="form-group has-feedback"> <input class="form-control input-lg ng-pristine ng-invalid ng-invalid-required ng-touched" type="email" name="email" ng-model="user.email" placeholder="Email" required autofocus> <span class="ion-at form-control-feedback"></span> </div> <div class="form-group has-feedback"> <input class="form-control input-lg ng-pristine ng-invalid ng-invalid-required ng-touched" type="password" name="password" ng-model="user.password" placeholder="Password" required autofocus> <span class="ion-key form-control-feedback"></span> </div> <button type="submit" ng-disabled="loginForm.$invalid" class="btn btn-lg btn-block btn-success" disabled>Entrar</button> <br> <div class="signup-or-separator"> <hr> </div> <p class="text-center text-muted"> <small><a href="#/forgot">¿Has olvidado la contraseña?</a></small> </p> </form> </div> </div> </div>'),a.put("views/main.html",'<div class="container"> <div class="jumbotron"> <h1>Unicor Elige</h1> <p class="lead text-center"> <img src="images/logo.768222c4.png" alt="unicorElige" width="200px"><br> Enterate y participa de las elecciones de representante estudiantil en la universidad de Cordoba. </p> <a class="btn btn-lg btn-success" ng-href="#/login">Ingresar</a> </div> </div> <!-- descripcion de la app --> <section class="col-md-12 col-sm-12 col-xs-12 text-center background-olive-light"> <div class="col-md-4 col-sm-6"> <h2 class="text-center">Estudiantes</h2> <figure class="text-center margin-down"> <img src="/images/students.a94ce7f7.png" alt="candidato" width="150px" class="img-rounded"> </figure> <p>Unicor Elige brinda a toda la comunidad estudiantil la posiblidad de conocer en detalle quienes son los candidatos postulados para ser elegidos en las elecciones de representante estudiantil.</p> </div> <div class="col-md-4 col-sm-6"> <h2 class="text-center">Candidatos</h2> <figure class="text-center margin-down"> <img src="/images/candidato.4b039fed.png" alt="candidato" width="150px" class="img-rounded"> </figure> <p>Unicor Elige le ofrece a los candidatos un espacio en el cual puedan administrar su perfil, publicar las propuestas de su plan de gobierno y además informen sobre eventos a realizar a toda la comunidad universitaria.</p> </div> <div class="col-md-4 col-sm-6"> <h2 class="text-center">Resultados</h2> <figure class="text-center margin-down"> <img src="/images/resultado.7c00eaee.png" alt="candidato" width="150px" class="img-rounded"> </figure> <p>Unicor Elige muestra los resultados de las elecciones de representante estudiantil utilizando diferentes graficas que ayudan y facilitan la visualzación de los resultados. </p> </div> </section> <!-- equipo de trabajo --> <section class="col-md-12 col-sm-12 col-xs-12 background-olive-light"> <h2 class="text-center">Equipo</h2> <div class="col-md-4 col-sm-6 col-md-offset-2"> <h2 class="text-center">Yennifer Sabie</h2> <figure class="text-center margin-down"> <img src="/images/yenni.61b164b3.jpg" alt="candidato" width="100px" class="img-circle"> </figure> <div class="social text-center"> <ul class="social-network"> <li><a href="https://www.facebook.com/yennifer.sabiealgarin?fref=ts" target="_blank" class="icoFacebook" title="Yennifer Sabie Algarin"><i class="ion-social-facebook"></i></a></li> <li><a href="https://twitter.com/yennisabie" target="_blank" class="icoTwitter" title="@yennisabie"><i class="ion-social-twitter"></i></a></li> <li><a href="https://plus.google.com/u/0/103716156642200546428/about" target="_blank" class="icoGoogle" title="Google +"><i class="ion-social-googleplus"></i></a></li> </ul> </div> </div> <div class="col-md-4 col-sm-6"> <h2 class="text-center">Jorge Calle</h2> <figure class="text-center margin-down"> <img src="/images/jmc.ea7683be.jpg" alt="candidato" width="100px" class="img-circle"> </figure> <div class="social text-center"> <ul class="social-network"> <li><a href="https://www.facebook.com/jorge.calledehoyos" target="_blank" class="icoFacebook" title="Jorge Calle De Hoyos"><i class="ion-social-facebook"></i></a></li> <li><a href="https://twitter.com/Jomaca11" target="_blank" class="icoTwitter" title="@jomaca11"><i class="ion-social-twitter"></i></a></li> <li><a href="https://plus.google.com/u/0/" target="_blank" class="icoGoogle" title="Jorge Calle"><i class="ion-social-googleplus"></i></a></li> </ul> </div> </div> </section> <div class="footer col-md-12 col-sm-12 col-xs-12"> <div class="col-md-4 col-xs-6 text-center"> <h5>Yo <span class="glyphicon glyphicon-heart" style="color:red"></span> Sahagún</h5> </div> <div class="col-md-4 col-xs-6 text-center"> <h4>Unicor Elige <strong style="color:black">©</strong> 2015</h4> </div> <div class="col-md-4 col-xs-12 col-sm-6 text-center"> <p>Si tienes alguna duda o inconveniente puedes escribirnos a <strong>unicorelige@gmail.com</strong> </p> </div> </div>'),a.put("views/miperfil.html",'<div class="container-fluid" ng-if="currentUser.role != \'admin\'"> <aside class="col-md-4 col-lg-3" ng-init="profile()"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title text-center">Imagen</h3> </div> <div class="panel-body"> <div class="text-center" id="divChangeImage"> <img src="" id="userAvatar" alt="avatar" ng-src="{{user.image.url}}" class="candidate-avatar"> <br> <button class="btn btn-info" ng-click="changeImage()"><span class="ion-camera"></span>&nbsp;&nbsp;Cambiar imagen</button> </div> <form id="changeUserImage" name="updateUserForm"> <div id="divUpdateImage" style="display:none"> <input type="file" id="inputUpdateImage" name="image" file-model="user.avatar"><br> <img id="imagePreview" src="#" class="candidate-avatar"> <br> <div class="text-center" id="divButtonsActions" style="display:none"> <button class="btn btn-danger" ng-click="cancel()"><span class="ion-close"></span></button>&nbsp;&nbsp; <button class="btn btn-success" ng-click="ok()"><span class="ion-checkmark"></span></button> </div> </div> <br> <div class="form-group has-feedback"> <label for="displayName">Nombre de Pantalla: </label> <input class="form-control input-lg ng-pristine ng-invalid ng-invalid-required ng-touched" type="text" name="displayName" ng-model="user.displayName" required> <span class="ion-person form-control-feedback"></span> </div> <div class="text-center"> <button type="submit" ng-click="updateUser()" ng-disabled="updateUserForm.$invalid" class="btn btn-lg btn-primary" disabled>Actualizar Perfil</button> </div> </form> </div> </div> </aside> <section class="col-md-8 col-lg-9"> <div class="panel panel-default"> <div class="panel-heading text-center"> Perfil </div> <div class="panel-body"> <p><strong>Codigo: </strong>{{user._id}}</p> <p><strong>{{user.identification.type}}: </strong> {{user.identification.number}}</p> <p><strong>email: </strong>{{user.email}}</p> <p><strong>Facultad: </strong>{{user.faculty}}</p> <p><strong>Programa: </strong>{{user.program}}</p> <p><strong>Semestre: </strong>{{user.semester}}</p> <div class="signup-or-separator"><hr></div> <div class="text-center"> <h3>Contraseña</h3> <form method="post" ng-submit="updatePassword()" name="profileChangePasswordForm" class="col-md-6 col-sm-6 col-md-offset-3 col-sm-offset-3 ng-pristine ng-invalid ng-invalid-required"> <div class="form-group has-feedback"> <input class="form-control input-lg ng-pristine ng-invalid ng-invalid-required ng-touched" type="password" name="password" ng-model="changePassword.current" placeholder="Contraseña actual" required autofocus> <span class="ion-android-unlock form-control-feedback"></span> </div> <div class="form-group has-feedback"> <input class="form-control input-lg ng-pristine ng-invalid ng-invalid-required ng-touched" type="password" name="password" ng-model="changePassword.new" placeholder="Nueva contraseña" required autofocus> <span class="ion-key form-control-feedback"></span> </div> <button type="submit" ng-disabled="profileChangePasswordForm.$invalid" class="btn btn-lg btn-block btn-success" disabled>Actualizar contraseña</button> </form> </div> </div> </div> </section> </div> <div class="container" ng-if="currentUser.role ==\'admin\'"> <aside class="col-md-4 col-lg-3 col-md-offset-4 col-sm-6 col-sm-offset-3"> <div class="panel panel-default"> <div class="panel-heading"> <h3 class="panel-title text-center">Mi perfil</h3> </div> <div class="panel-body"> <img src="" id="userAvatar" alt="avatar" ng-src="{{currentUser.image.url}}" class="candidate__avatar"> <form id="changeUserImage" name="changeImageForm" style="display:none"> <div> <input type="file" id="updateImage" name="image" file-model="updateUser.image"><br> <img id="imagePreview" src="#" class="candidate__avatar"> </div> <br> </form> <div class="text-center"> <h3>{{currentUser.displayName}}</h3> <small>{{currentUser.email}}</small> </div> <br> </div> </div> </aside> </div>'),
a.put("views/resetpassword.html",'<div class="container"> <div class="center-form panel"> <div class="panel-body"> <h2 class="text-center">Cambiar Contraseña</h2> <br> <form method="post" ng-submit="reset()" name="changePasswordForm" class="ng-pristine ng-invalid ng-invalid-required"> <div class="form-group has-feedback"> <input class="form-control input-lg ng-pristine ng-invalid ng-invalid-required ng-touched" type="password" name="passwordOne" ng-model="password.password" placeholder="Nueva contraseña" required autofocus> <span class="ion-locked form-control-feedback"></span> </div> <button type="submit" ng-disabled="changePasswordForm.$invalid" class="btn btn-lg btn-block btn-success" disabled>Guardar</button> </form> </div> </div> </div>'),a.put("views/student/events.html",'<div class="container-fluid" ng-init="loadEvents()"> <h1 class="margin-down text-center">Eventos</h1> <div class="content margin-up text-center"> <div class="post" ng-if="uEvents.length" ng-repeat="event in uEvents | orderBy:\'start\'| filter: filtro"> <div class="panel panel-warning"> <div class="panel-heading"> <h4>{{event.title}}</h4> </div> <div class="panel-body" style="text-align:left"> <ul> <li><strong>Fecha: </strong>{{event.start | date:\'mediumDate\'}}</li> <li><strong>Hora: </strong>{{event.start | date:\'h:mm a\'}}</li> <li><strong>Lugar: </strong>{{event.place}}</li> </ul> </div> <div class="panel-footer" style="text-align:left"> <figure class="left"> <img ng-src="{{event.user.image.url}}" alt="candidato" class="comments-avatar"> </figure> <a href="#/candidatos/{{event.candidate}}">{{event.user.displayName}}</a><br> <small class="olive-light">{{event.user.program}}</small> </div> </div> </div> <div class="container" ng-if="!uEvents.length"> <div class="alert alert-info"> <h2>No hay eventos</h2> </div> </div> </div> </div>'),a.put("views/student/home.html",'<div class="container"> <div ng-init="loadCandidates()" class="text-center"> <h1 class="margin-down">Candidatos</h1> <div class="card" ng-repeat="candidate in uCandidates | orderBy: \'cardNumber\'"> <figure class="text-center"> <a ng-href="#/candidatos/{{candidate._id}}"> <img src="" alt="candidato" width="150px" class="img-circle" ng-src="{{candidate.user.image.url}}"> </a> </figure> <div class="text-center"> <h3>#{{candidate.cardNumber}}</h3> <h3>{{candidate.user.displayName}}</h3> <small>{{candidate.user.program}}</small> </div> </div> <div ng-if="!uCandidates.length" class="alert alert-danger text-center container"> <h2>No hay Candidatos inscritos</h2> </div> </div> </div>'),a.put("views/student/posts.html",'<section class="container-fluid" ng-init="loadPosts()"> <h1 class="text-center">Post</h1> <div class="margin-up text-center"> <div class="card post" ng-repeat="post in uPosts | orderBy:\'created\'"> <article class="panel panel-default"> <div class="panel-heading"> <div class="card-block"> <h3 class="card-title text-center">{{post.title}}</h3> <h6 class="card-subtitle text-muted"> <div class="text-left">{{post.created | date:\'mediumDate\'}}</div> <div class="candidate-post-comments" style="text-align:right"> <strong>{{post.comments.length}}</strong> comentarios </div> </h6> </div> </div> <a href="#/posts/{{post._id}}" class="card-link right"> <figure class="text-center candidate__post__image"> <img ng-src="{{post.image.url}}" alt="image_post"> </figure> </a> <div class="panel-footer" style="text-align:left"> <figure class="left"> <img ng-src="{{post.user.image.url}}" alt="candidato" class="comments-avatar"> </figure> <a href="#/candidatos/{{post.candidate._id}}">{{post.user.displayName}}</a><br> <small class="olive-light">{{post.user.program}}</small> </div> </article> </div> <div class="alert alert-warning text-center container" ng-if="!uPosts.length"> <h2>No hay posts</h2> </div> </div> </section>'),a.put("views/student/profileCandidate.html",'<div class="container-fluid" ng-init="findCandidate()"> <aside class="col-md-4 col-lg-3"> <div class="panel panel-info"> <div class="panel-heading"> <h3 class="panel-title text-center">Perfil</h3> </div> <div class="panel-body text-center"> <img src="" alt="avatar" ng-src="{{candidateSelected.user.image.url}}" class="candidate-avatar"> <h1>#{{candidateSelected.cardNumber}}</h1> <h4 class="green-light margin-down">{{candidateSelected.watchword}}</h4> <h2 class="name">{{candidateSelected.user.displayName}}</h2> <p class="margin-down">{{candidateSelected.user.program}}</p> <div ng-if="candidateSelected.biography" class="margin-up"> <small class="cursive"> <span class="ion-quote"></span> {{candidateSelected.biography}}&nbsp; <span class="ion-quote rotate"></span> </small> </div> <div ng-if="candidateSelected.twitter.id || candidateSelected.instagram.id || candidateSelected.facebook.id" class="margin-down text-center"> <div class="signup-or-separator"><hr></div> <h3 class="text-center">Redes Sociales</h3> <a href="https://facebook.com/{{candidateSelected.facebook.id}}" ng-if="candidateSelected.facebook.id" class="btn btn-block btn-facebook text-center" target="_blank"> <figure class="left"> <img class="social-avatar" src="" alt="{{candidateSelected.facebook.username}}" title="{{candidateSelected.facebook.username}}" ng-src="{{candidateSelected.facebook.photo}}"> </figure> <span class="ion-social-facebook" style="font-size:3em"></span> <p>{{candidateSelected.facebook.username}}</p> </a> <a href="https://twitter.com/{{candidateSelected.twitter.username}}" ng-if="candidateSelected.twitter.id" class="btn btn-block btn-twitter text-center" target="_blank"> <figure class="left"> <img class="social-avatar" src="" alt="{{candidateSelected.twitter.username}}" title="{{candidateSelected.twitter.username}}" ng-src="{{candidateSelected.twitter.photo}}"> </figure> <span class="ion-social-twitter" style="font-size:3em"></span> <p><span class="ion-at"></span>{{candidateSelected.twitter.username}}</p> </a> <a href="https://instagram.com/{{candidateSelected.instagram.username}}" ng-if="candidateSelected.instagram.id" class="btn btn-block btn-instagram text-center" target="_blank"> <figure class="left"> <img class="social-avatar" src="" alt="{{candidateSelected.instagram.username}}" title="{{candidateSelected.instagram.username}}" ng-src="{{candidateSelected.instagram.photo}}"> </figure> <span class="ion-social-instagram" style="font-size:3em"></span> <p>{{candidateSelected.instagram.username}}</p> </a> </div> </div> </div> </aside> <section class="col-md-8 col-lg-9"> <div class="panel panel-default"> <div class="panel-body"> <span href="#" ng-click="showProposal = !showProposal" class="col-md-offset-1 pointer blue-marine"> <h2><span class="ion-ios-paper-outline"></span> &nbsp;&nbsp;Propuestas <span class="ion-chevron-up pull-right" ng-if="showProposal"></span> <span class="ion-chevron-down pull-right" ng-if="!showProposal"></span> </h2> </span> <div ng-show="showProposal"> <div ng-if="candidateSelected.proposals.length" class="candidate__proposal col-md-offset-1" ng-repeat="proposal in candidateSelected.proposals"> <p><span class="ion-arrow-right-b"></span>&nbsp;&nbsp;{{proposal.content}}</p> <div class="color-olive-light text-right"> <small>{{proposal.creation | date:\'mediumDate\' }}</small> </div> <div class="signup-or-separator"> <hr> </div> </div> <div class="alert alert-info" ng-if="!candidateSelected.proposals.length"> <p class="text-info text-center">El candidato aún no tiene propuestas.</p> </div> </div> <span href="#" ng-init="findEventsCandidate()" ng-click="showEvents = !showEvents" class="col-md-offset-1 pointer blue-marine"> <h2><span class="ion-ios-calendar-outline"></span> &nbsp;&nbsp;Eventos <span class="ion-chevron-up pull-right" ng-if="showEvents"></span> <span class="ion-chevron-down pull-right" ng-if="!showEvents"></span> </h2> </span> <div ng-show="showEvents"> <div ng-if="eventsCandidate.length" class="candidate__proposal col-md-offset-1" ng-repeat="event in eventsCandidate | orderBy:\'start\'"> <h4>{{event.title}}</h4> <ul> <li><span class="ion-android-calendar"></span>&nbsp;<small>{{event.start | date: \'mediumDate\'}}</small></li> <li><span class="ion-clock"></span>&nbsp;<small>{{event.start | date: \'shortTime\'}}</small></li> <li><span class="ion-home"></span>&nbsp;<small>{{event.place}}</small></li> <small class="pull-right" ng-if="event.persons.length"> <strong>{{event.persons.length}}&nbsp;</strong> Personas asistarán </small> </ul> <div class="signup-or-separator"> <hr> </div> </div> <div class="alert alert-info" ng-if="!eventsCandidate.length"> <p class="text-info text-center">No hay eventos programados por el candidato.</p> </div> </div> <span ng-init="findPostsCandidate()" ng-click="showPost = !showPost" class="col-md-offset-1 pointer blue-marine"> <h2><span class="ion-compose"></span> &nbsp;&nbsp;Post <span class="ion-chevron-up pull-right" ng-if="showPost"></span> <span class="ion-chevron-down pull-right" ng-if="!showPost"></span> </h2> </span> <div ng-show="showPost"> <div ng-if="postsCandidate.length" class="candidate__proposal col-md-offset-1" ng-repeat="post in postsCandidate"> <a href="#/posts/{{post._id}}"><span class="ion-arrow-right-b"></span>&nbsp;&nbsp;{{post.title}}</a> <div> <small class="color-olive-light">{{post.created | date:\'mediumDate\' }}</small> <div class="pull-right"> {{post.comments.length}} <span class="ion-chatbubbles"></span> </div> </div> <div class="signup-or-separator"> <hr> </div> </div> <div class="alert alert-info" ng-if="!postsCandidate.length"> <p class="text-info text-center">No hay posts publicados.</p> </div> </div> </div> </div> </section> </div>'),a.put("views/student/readPost.html",'<div class="container-fluid"> <div class="margin-up"> <aside class="col-md-4 col-lg-3"> <div class="panel panel-info"> <div class="panel-heading"> <h3 class="panel-title text-center">Perfil</h3> </div> <div class="panel-body text-center"> <img src="" alt="avatar" ng-src="{{postSelected.user.image.url}}" class="candidate-avatar"> <h1>#{{postSelected.candidate.cardNumber}}</h1> <h4 class="green-light margin-down">{{postSelected.candidate.watchword}}</h4> <h2>{{postSelected.user.displayName}}</h2> <p class="margin-down">{{postSelected.user.program}}</p> <div ng-if="postSelected.candidate.biography" class="margin-up"> <small class="cursive"> <span class="ion-quote"></span> {{postSelected.candidate.biography}}&nbsp; <span class="ion-quote rotate"></span> </small> </div> <div ng-if="postSelected.candidate.twitter.id || postSelected.candidate.instagram.id || postSelected.candidate.facebook.id" class="margin-down text-center"> <div class="signup-or-separator"><hr></div> <h3 class="text-center">Redes Sociales</h3> <a href="https://facebook.com/{{postSelected.candidate.facebook.id}}" ng-if="postSelected.candidate.facebook.id" class="btn btn-block btn-facebook text-center" target="_blank"> <figure class="left"> <img class="social-avatar" src="" alt="{{postSelected.candidate.facebook.username}}" title="{{postSelected.candidate.facebook.username}}" ng-src="{{postSelected.candidate.facebook.photo}}"> </figure> <span class="ion-social-facebook" style="font-size:3em"></span> <p>{{postSelected.candidate.facebook.username}}</p> </a> <a href="https://twitter.com/{{postSelected.candidate.twitter.username}}" ng-if="postSelected.candidate.twitter.id" class="btn btn-block btn-twitter text-center" target="_blank"> <figure class="left"> <img class="social-avatar" src="" alt="{{postSelected.candidate.twitter.username}}" title="{{postSelected.candidate.twitter.username}}" ng-src="{{postSelected.candidate.twitter.photo}}"> </figure> <span class="ion-social-twitter" style="font-size:3em"></span> <p><span class="ion-at"></span>{{postSelected.candidate.twitter.username}}</p> </a> <a href="https://instagram.com/{{postSelected.candidate.instagram.username}}" ng-if="postSelected.candidate.instagram.id" class="btn btn-block btn-instagram text-center" target="_blank"> <figure class="left"> <img class="social-avatar" src="" alt="{{postSelected.candidate.instagram.username}}" title="{{postSelected.candidate.instagram.username}}" ng-src="{{postSelected.candidate.instagram.photo}}"> </figure> <span class="ion-social-instagram" style="font-size:3em"></span> <p>{{postSelected.candidate.instagram.username}}</p> </a> </div> </div> </div> </aside> <section class="col-md-8 col-lg-9" ng-init="readPostCandidate()"> <div class="panel panel-info"> <div class="panel-heading"> <h1 class="text-center">{{postSelected.title}}</h1> </div> <div class="panel-body"> <figure class="col-md-offset-1 text-center margin-down"> <center> <img class="img-responsive" src="" alt="img-post" ng-src="{{postSelected.image.url}}" width="700px"> </center> </figure> <p class="margin-down">{{postSelected.content}}</p> <h3 class="margin-up">Comentarios</h3> <div class="comments" ng-init="loadComments()"> <div ng-repeat="comment in comments | orderBy:\'created\'"> <div class="pull-right color-olive-light"> <div ng-if="!comment.edited">{{comment.created | date:\'d MMM y, h:mm a\'}}</div> <div ng-if="comment.edited">editado {{comment.edited | date:\'d MMM y, h:mm a\'}}</div> <div class="pull-right"> <a ng-if="comment.user._id === currentUser.sub" class="pointer size" ng-click="editComment(comment)"> <i class="ion-edit icon_edit"></i> </a> &nbsp;&nbsp; <a ng-if="comment.user._id === currentUser.sub" class="pointer size" ng-click="deleteComment(comment)"> <i class="ion-trash-a icon_remove"></i> </a> </div> </div> <figure class="left"> <img ng-src="{{comment.user.image.url}}" alt="user" class="comments-avatar"> </figure> <small><strong>{{comment.user.displayName}}</strong> dice: </small> <p>{{comment.content}}</p> <div class="signup-or-separator"><hr></div> </div> <div ng-if="!comments.length" class="alert alert-info text-center"> Aún no hay comentarios, se el primero en comentar. </div> </div> <form method="post" ng-if="!formEdit" ng-submit="newComment()" name="comentForm" class="margin-up ng-pristine ng-invalid ng-invalid-required"> <div class="form-group"> <label for="content" class="control-label">Escribe tu comentario:</label> <textarea name="content" rows="4" class="form-control ng-pristine ng-invalid ng-invalid-required" ng-model="addComment.content" required></textarea> </div> <div class="text-center"> <button type="submit" class="btn btn-lg btn-primary" ng-disabled="comentForm.$invalid">Comentar</button> </div> </form> <form method="post" ng-if="formEdit" ng-submit="updateComment()" name="updateComentForm" class="margin-up ng-pristine ng-invalid ng-invalid-required"> <div class="form-group"> <label for="content" class="control-label">Editar comentario:</label> <textarea name="content" rows="4" class="form-control ng-pristine ng-invalid ng-invalid-required" ng-model="commentEdit.content" required></textarea> </div> <div class="text-center"> <button type="submit" class="btn btn-lg btn-warning" ng-disabled="updateComentForm.$invalid">Actualizar</button> </div> </form> </div> </div> </section> </div> </div>')}]);